import{_ as w,r as i,g as R,c as n,b as c,l as x,f as _,e as h,i as m,F as b,s as L,m as C,n as N,a as V,o,t as $}from"./index-e9uV_RJ-.js";import{r as j}from"./NoSymbolIcon-wtQzvxs9.js";import{r as B}from"./ArrowPathIcon-D9-DHQV_.js";const D="/Restaurant-Menu/assets/default-restaurant-Dk1ZgzOV.jpg",I={class:"bg-screen"},E={key:0,class:"no-data"},F=["onClick"],H=["src"],M={key:1,src:D,class:"h-36 sm:h-48 md:h-56 md:h-72 w-36 sm:w-full object-cover",alt:"Restaurant Image"},O={class:"sub-title text-center pt-2 sm:pt-3 md:pt-4"},S={key:2,class:"no-data"},T={__name:"RestaurantList",setup(q){const y=V(),l=i(!1),r=i([]),u=i(),p=i(0),v=i(),g=async()=>{var a;((a=r.value)==null?void 0:a.length)!=v.value&&(p.value++,l.value=!0,await C.get(`${N.restaurantList}?page=${p.value}&limit=8`).then(({data:t})=>{var d;const s=t.data;v.value=s==null?void 0:s.totalOwners;const e=(d=s==null?void 0:s.users)==null?void 0:d.map(f=>({...f,isDeleting:!1}));r.value=[...r.value,...e]}).catch(t=>{var s,e;console.error((e=(s=t==null?void 0:t.response)==null?void 0:s.data)==null?void 0:e.message)}).finally(()=>{l.value=!1}))},k=()=>{const a=u.value;a&&a.scrollHeight-a.scrollTop<=a.clientHeight+50&&!l.value&&g()};return R(()=>{g(),u.value.addEventListener("scroll",k)}),(a,t)=>{var s;return o(),n("section",I,[t[2]||(t[2]=c("div",{class:"px-8 py-5"},[c("h1",{class:"main-title"},"Restaurants")],-1)),c("div",{ref_key:"scrollComponent",ref:u,class:"h-5/6 overflow-y-auto flex justify-evenly items-start flex-wrap"},[((s=r.value)==null?void 0:s.length)==0&&!l.value?(o(),n("div",E,[_(m(j),{class:"no-data-icon"}),t[0]||(t[0]=h(" No Restaurants Available "))])):(o(!0),n(b,{key:1},L(r.value,(e,d)=>(o(),n("div",{key:e._id,class:"h-auto m-1 sm:m-2 p-2 sm:p-3 cursor-pointer bg-white shadow-2xl",onClick:f=>m(y).push(`/restaurant/${e._id}`)},[c("div",null,[e!=null&&e.image&&e.image!="null"&&e.image!="undefined"?(o(),n("img",{key:0,src:e.image,class:"h-36 sm:h-48 md:h-56 md:h-72 w-36 sm:w-full object-cover",alt:"Restaurant Image"},null,8,H)):(o(),n("img",M))]),c("h2",O,$(e.name),1)],8,F))),128)),l.value?(o(),n("div",S,[_(m(B),{class:"no-data-icon"}),t[1]||(t[1]=h(" Loading..."))])):x("",!0)],512)])}}},G=w(T,[["__scopeId","data-v-4d8a440b"]]);export{G as default};
